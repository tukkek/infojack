<template id='program-bar'
  class.bind='collapsed?"anchored":"expanded"'>
    <require from="./program-bar.css"></require>
    <table>
      <tr repeat.for=
        'p of programs &signal:"update-program-bar"'>
          <td><img src.bind='p.image'
            title.bind='p.name'
            class.bind=
              'geticonclass(p) &signal:"update-program-bar"'
            click.trigger='run(p)'>
              </img></td>
          <td show.bind='!collapsed' class='name'>
            ${p.name}</td>
          <td show.bind='!collapsed' class='description'>
            ${p.describe()}.</td>
          <td show.bind='!collapsed' class='size'>
            <div>${p.size} block(s)</div>
            <div>Hack +${p.hackingdc}</div>
          </td>
          <td show.bind='!collapsed' class='actions'>
            <button show.bind=
              '!isloaded(p) &signal:"update-program-bar"'
              click.trigger='doload(p)'>
                Load</button>
            <button show.bind=
              'isloaded(p) &signal:"update-program-bar"'
              click.trigger='dounload(p)'>
                Unload</button>
          </td>
      </tr>
    </table>
    <div class='details'>
      <div style.bind='hpcolor' class='hp'>HP: ${hp}%</div>
      <div style.bind='loadcolor' class='load'>
        Load: ${load}/${totalload}</div>
      <div class='bold'>Blocks: ${freestorage}</div>
      <button click.trigger='toggle()'
        id='program-bar-toggle'
        textContent.bind='collapsed?"Expand":"Collapse"'>
        </button>
    </div>
</template> 
