{"version":3,"sources":["app.js","empty.js","environment.js","infojack-mainmenu.js","infojack-radio.js","infojack-topmenu.js","main.js","messages.js","character/character-abilities.js","character/character-details.js","character/character-feats.js","character/character-screen.js","character/character-skills.js","modules/characters.js","modules/classes.js","modules/feats.js","modules/occupations.js","modules/rpg.js","modules/save.js","modules/skills.js","modules/sound.js","resources/index.js"],"names":["App","Example","debug","testing","MainMenu","sound","save","messaging","show","hassave","checkload","showpending","play","ERROR","setTimeout","alert","startgame","confirm","clear","close","loadgame","load","open","publish","openrepository","window","Radio","active","audio","pause","TopMenu","hideradio","configure","Promise","config","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","ShowView","view","CharacterAbilities","hero","costs","strength","attached","dexterity","constitution","intelligence","wisdom","charisma","pointbuy","pointextra","detached","clone","Object","assign","upgrade","ability","current","buy","ranks","level","next","cost","CharacterDetails","CharacterFeats","Save","feats","BindingSignaler","signals","add","feat","newfeats","addfeat","signal","validate","STARTINGSCREEN","CharacterScreen","showabilities","showskills","showfeats","showdetails","me","subscribe","select","e","id","target","charactermenu","childNodes","button","classes","classList","replace","remove","CharacterSkills","skills","values","s","name","getskill","iscrossclass","skill","classskills","includes","canupgrade","setskill","value","Character","wealth","bab","edgedice","edge","fort","ref","will","defence","talent","contacts","toLowerCase","data","key","setoccupation","occupation","addclassskill","indexOf","push","connect","avatar","enhancecrawler","Math","max","getmodifier","hasfeat","f","rollskill","bonus","d20","rollbluff","bluff","rolldecryption","decryption","rolleletronics","eletronics","rollforgery","forgery","rollinformation","information","rollhacking","hacking","rollperceive","perceive","rollmedicine","medicine","rollstealth","stealth","rollprofession","profession","fase","rollresearch","research","rollsearch","search","rolltechnology","technology","adventurer","advance","Class","character","levelup","c","classlevel","upgradestat","upgradeedgedice","upgradereputation","hp","hd","addskills","d","stat","last","split","parseInt","reputation","Webcrawler","webcrawler","Map","Feat","description","apply","Educated","Meticulous","Stealthy","Studious","Trustworthy","set","Occupation","skillsp","occupations","Rpg","roll","min","floor","random","dice","sides","sum","i","rpg","dodebug","localStorage","getItem","JSON","parse","populate","initialize","setItem","stringify","checkskills","Skill","ss","get","Sound","PREFIX","file","Audio"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  constructor() {\n  }\n}\n","export class Example {\n    constructor() {\n    }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {Sound} from './modules/sound';\nimport {Save} from './modules/save';\nimport {ShowView} from './messages';\n\n@inject(Sound,Save,EventAggregator)\nexport class MainMenu {\n    constructor(sound,save,messaging) {\n        this.sound=sound;\n        this.save=save;\n        this.show=true;\n        this.messaging=messaging;\n        this.hassave=save.checkload()!=false;\n    }\n  \n    showpending(){\n        this.sound.play(this.sound.ERROR);\n        setTimeout(function(){\n            alert('Operation pending!');\n        },100);\n    }\n    \n    startgame(){\n        if(this.hassave&&!confirm('Are you sure you want to start a new game? Any previous progress will be lost!')){\n            return;\n        }\n        this.save.clear();\n        this.close('CharacterScreen');\n    }\n    \n    loadgame(){\n        if(!this.hassave){\n            this.sound.play(this.sound.ERROR);\n        }\n        this.save.load();\n        this.close('CharacterScreen');//TODO open map\n    }\n    \n    close(open){\n        this.show=false;\n        this.messaging.publish(new ShowView(open));\n    }\n      \n    openrepository(){\n      window.open('https://github.com/tukkek/infojack');\n    }\n}\n","export class Radio {\n    constructor() {\n        this.active=false;\n    }\n  \n    play(){\n        this.audio.play();\n        if(!this.active){\n            this.audio.play();\n        } else {\n            this.audio.pause();\n        }\n        return true;\n    }\n}\n","export class TopMenu{\n    constructor(){\n        this.hideradio=true;\n    }\n    \n    open(){\n        this.hideradio=!this.hideradio;\n    }\n}\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class ShowView{\n    constructor(view){\n        this.view=view;//CharacterScreen\n    }\n}\n","//TODO needs to boost Character#ranks with int\n\nimport {hero,costs} from '../modules/characters';\nimport {Save} from '../modules/save';\nimport {inject} from 'aurelia-framework';\n\n/* TODO add difficulty modes */\n@inject(hero,costs,Save)\nexport class CharacterAbilities {\n    constructor(hero,costs,save) {\n        this.hero=hero;\n        this.costs=costs;\n        this.save=save;\n        this.strength=-1;\n    }\n    \n    attached(){\n        this.strength=this.hero.strength;\n        this.dexterity=this.hero.dexterity;\n        this.constitution=this.hero.constitution;\n        this.intelligence=this.hero.intelligence;\n        this.wisdom=this.hero.wisdom;\n        this.charisma=this.hero.charisma;\n        this.pointbuy=this.hero.pointbuy;\n        this.pointextra=this.hero.pointextra;\n    }\n    \n    detached(){\n        let clone={};\n        Object.assign(clone,this);\n        delete clone.costs;\n        delete clone.hero;\n        delete clone.save;\n        this.hero.assign(clone);\n        this.save.save();\n    }\n\n    upgrade(ability){\n        let current=this[ability];\n        if(current==18){\n            return;\n        }\n        if(this.pointextra>0){\n            this.pointextra-=1;\n            this[ability]+=1;        \n        }else if(this.buy(current)){\n            this[ability]+=1;        \n        }else return;\n        if(ability=='intelligence'){\n            this.hero.ranks+=this.hero.level==1?4:1;\n        }\n    }\n    \n    buy(current){\n        let next=current+1;\n        let cost=this.costs[next]-this.costs[current];\n        if(this.pointbuy>=cost){\n            this.pointbuy-=cost;\n            return true;\n        }\n        return false;\n    }\n}\n","export class CharacterDetails {\n    constructor() {\n    }\n}\n","import {feats} from '../modules/feats';\nimport {hero} from '../modules/characters';\nimport {Save} from '../modules/save';\nimport {inject} from 'aurelia-framework';\nimport {BindingSignaler} from 'aurelia-templating-resources';\n\n@inject(Save,feats,hero,BindingSignaler)\nexport class CharacterFeats {\n    constructor(Save,feats,hero,BindingSignaler) {\n        this.save=Save;\n        this.feats=feats;\n        this.hero=hero;\n        this.signals=BindingSignaler;\n    }\n    \n    add(feat){\n        if(hero.newfeats==0) return;\n        hero.newfeats-=1;\n        this.hero.addfeat(feat);\n        this.save.save();\n        this.signals.signal('update');\n    }\n    \n    validate(feat){\n        return hero.newfeats>0&&feat.validate(hero);\n    }\n}\n","//TODO add talents\n\nimport {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {ShowView} from '../messages';\n\nvar STARTINGSCREEN='CharacterScreen';\n\n@inject(EventAggregator)\nexport class CharacterScreen {\n    constructor(messaging) {\n        this.show=false;\n        this.showabilities=true;\n        this.showskills=false;\n        this.showfeats=false;\n        this.showdetails=false;\n        \n        let me=this;\n        messaging.subscribe(ShowView,function(show){\n            if(show.view==STARTINGSCREEN){\n                me.show=true;\n            }\n        });\n    }\n    \n    select(e){\n        let id=e.target.id;\n        for(let button of this.charactermenu.childNodes){\n            let classes=button.classList;\n            if(!classes){\n                continue;\n            }\n            var show=button.id==id;\n            this['show'+button.id.replace('character-','')]=show;\n            if(show){\n                classes.add('highlightbg');\n            } else {\n                classes.remove('highlightbg');\n            }\n        }\n    }\n    \n    close(){\n        this.show=false;\n    }\n}\n\n","import {skills} from '../modules/skills';\nimport {hero} from '../modules/characters';\nimport {Save} from '../modules/save';\nimport {inject} from 'aurelia-framework';\n\n@inject(Save,skills,hero)\nexport class CharacterSkills {\n    constructor(Save,skills,hero) {\n        this.save=Save;\n        this.skills=skills;\n        this.values={};\n        this.hero=hero;\n        for(let s of skills.values()) this.values[s.name]=hero.getskill(s.name);\n    }\n    \n    iscrossclass(skill){\n        return !hero.classskills.includes(skill);\n    }\n    \n    buy(skill){\n        return this.iscrossclass(skill)?2:1;\n    }\n    \n    upgrade(skill){\n        if(!this.canupgrade(this.values[skill],skill)) return;\n        let cost=this.buy(skill);\n        hero.ranks-=cost;\n        this.values[skill]+=1;\n        hero.setskill(skill,this.values[skill]);\n        this.save.save();\n    }\n    \n    canupgrade(value,skill){\n        let cost=this.buy(skill);\n        return hero.ranks>=cost && value<3+hero.level;\n    }\n}\n","//TODO convert primary BAB elsewhere\n\nimport {occupations} from './occupations';\nimport {webcrawler} from './classes';\nimport {skills} from './skills';\nimport {rpg} from './rpg';\n\nexport class Character{\n    constructor(){\n        this.strength=7;\n        this.dexterity=7;\n        this.constitution=7;\n        this.intelligence=7;\n        this.wisdom=7;\n        this.charisma=7;\n        this.pointbuy=15+4*6;\n        this.pointextra=0;\n        this.wealth=0;\n        this.classskills=[];\n        this.classes={};//holds levels\n        this.level=0;\n        this.ranks=0;\n        this.bab=0;//hold only primary BAB\n        this.edgedice=[0,0];//0d1\n        this.edge=0;//current edge\n        this.fort=0;\n        this.ref=0;\n        this.will=0;\n        this.defence=0;\n        this.talent=0;\n        this.contacts=0;//TODO\n        this.feats=[];\n        this.newfeats=2;\n        for(let s of skills.values()){\n            this[s.name.replace(' ','').toLowerCase()]=0;\n        }\n    }\n\n    //makes sure not to write new data\n    assign(data){\n        for(let key in data){\n            if(key in this){\n                this[key]=data[key];\n            }\n        }\n    }\n    \n    setoccupation(occupation){\n        this.wealth+=occupation.wealth;\n        for(let s of occupation.skills){\n            this.addclassskill(s);\n        }\n    }\n    \n    addclassskill(s){\n        if(this.classskills.indexOf(s)<0){\n            this.classskills.push(s);\n        }\n    }\n    \n    //TODO use\n    connect(){\n        let avatar={};\n        Object.assign(avatar,this);\n        if('Webcrawler' in this.classes){\n            this.enhancecrawler(avatar);\n        }\n        return avatar;\n    }\n    \n    enhancecrawler(avatar){\n        avatar.strength=Math.max(\n            avatar.strength,avatar.intelligence);\n        avatar.dexterity=Math.max(\n            avatar.dexterity,avatar.wisdom);\n        avatar.constitution=Math.max(\n            avatar.constitution,avatar.charisma);\n        let level=this.classes['Webcrawler'];\n        avatar.bab-=[0,1,1,2,2,3,3,4,4,5][level-1];\n        avatar.bab+=level;\n    }\n    \n    getmodifier(ability){\n        if(ability%2==1){\n            ability-=1;\n        }\n        return (ability-10)/2;\n    }\n    \n    getskill(name){\n        return this[name.replace(' ','').toLowerCase()];\n    }\n    \n    setskill(name,value){\n        this[name.replace(' ','').toLowerCase()]=value;\n    }\n    \n    hasfeat(f){\n        f=f.name||f;\n        for(let feat of this.feats) if(feat.name==f) return feat;\n        return false;\n    }\n    \n    addfeat(f){\n        this.feats.push(f);\n    }\n    \n    rollskill(ranks,feat,bonus){\n        if(feat&&hasfeat(feat)) ranks+=bonus;\n        return rpg.d20()+ranks;\n    }\n    \n    rollbluff(){\n        return rollskill(this.bluff,false,0);\n    }\n    \n    rolldecryption(){\n        return rollskill(this.decryption,'studious',2);\n    }\n    \n    rolleletronics(){\n        return rollskill(this.eletronics,false,0);\n    }\n    \n    rollforgery(){\n        return rollskill(this.forgery,'meticulous',2);\n    }\n    \n    rollinformation(){\n        return rollskill(this.information,'trustworthy',3);\n    }\n    \n    rollhacking(){\n        return rollskill(this.hacking,false,0);\n    }\n    \n    rollperceive(){\n        return rollskill(this.perceive,false,0);\n    }\n    \n    rollmedicine(){\n        return rollskill(this.medicine,false,0);\n    }\n    \n    rollstealth(){\n        return rollskill(this.stealth,'stealthy',3);\n    }\n    \n    rollprofession(){\n        return rollskill(this.profession,fase,0);\n    }\n    \n    rollresearch(){\n        return rollskill(this.research,'studious',2);\n    }\n    \n    rollsearch(){\n        return rollskill(this.search,'meticulous',2);\n    }\n    \n    rolltechnology(){\n        return rollskill(this.technology,'educated',3);\n    }\n}\n\nexport var hero=new Character();\nhero.setoccupation(occupations.adventurer);\nwebcrawler.advance(hero); //becomes level 1\n\nexport var costs={\n    7:-4,\n    8:-2,\n    9:-1,\n    10:0,\n    11:1,\n    12:2,\n    13:3,\n    14:5,\n    15:7,\n    16:10,\n    17:13,\n    18:17,\n}\n","/*TODO \n * for advanced classes, have edge dice as part of levelup\n */\n\nimport {checkskills} from './skills';\nimport {rpg} from './rpg';\n\nclass Class{\n    constructor(){\n        //default\n    }\n    \n    advance(character){\n        let level=0;\n        if(this.name in character.classes){\n            level=character.classes[this.name];\n        }\n        level+=1;\n        if(level>10) {\n            throw 'Cannot advance past level 10!';\n        }\n        this.levelup(character,level);\n        character.classes[this.name]=level;\n    }\n    \n    levelup(c,classlevel){\n        c.level+=1;\n        this.upgradestat(classlevel,'bab',c);\n        this.upgradestat(classlevel,'fort',c);\n        this.upgradestat(classlevel,'ref',c);\n        this.upgradestat(classlevel,'will',c);\n        this.upgradestat(classlevel,'defence',c);\n        this.upgradeedgedice(classlevel,c);\n        this.upgradereputation(classlevel);\n        c.ranks+=Math.max(1,this.ranks+c.getmodifier(c.intelligence));\n        if(c.level==1){\n            c.hp=this.hd;\n            c.edge+=c.edgedice[0];\n            c.ranks=c.ranks*4;\n            this.addskills(c);\n        }else{\n            c.hp+=rpg.d(1,this.hd);\n        }\n    }\n    \n    addskills(c){\n        for(let s of this.skills){\n            c.addclassskill(s);\n        }\n    }\n    \n    upgradestat(level,stat,c){\n        let last=0;\n        if(level>1){\n            last=this[stat][level-2];\n        }\n        let current=this[stat][level-1];\n        c[stat]+=current-last;\n    }\n    \n    upgradeedgedice(level,c){\n        let target=\n            this.edgedice[level-1].split('d');\n        target=[parseInt(target[0]),\n            parseInt(target[1])];\n        if(target[0]>c.edgedice[0]||\n            (target[0]==c.edgedice[0]&&\n                target[1]>=c.edgedice[1])){\n            c.edgedice[0]=target[0];\n            c.edgedice[1]=target[1];\n        }\n    }\n    \n    upgradereputation(level){\n        if(level==1){\n            if(this.reputation[0]>0){\n                //TODO boost\n            }\n        }else if(this.reputation[level-1]>\n                this.reputation[level-2]){\n            //TODO boost\n        }\n    }\n}\n\nclass Webcrawler extends Class{\n    constructor(){\n        super();\n        this.name='Webcrawler';\n        this.skills=checkskills(['Hacking', 'Electronics', 'Decryption', /*'Disable device',*/ 'Forgery', 'Technology', 'Profession', 'Research', 'Technology', 'Search']);\n        this.hd=4;\n        this.ranks=7;\n        this.bab=[0,1,1,2,2,3,3,4,4,5];\n        this.fort=[0,0,1,1,1,2,2,2,3,3];\n        this.ref=[1,2,2,2,3,3,4,4,4,5];\n        this.will=[1,2,2,2,3,3,4,4,4,5];\n        this.defence=[1,1,2,2,2,3,3,3,4,4];\n        this.reputation=[0,1,1,2,2,3,3,4,4,5];\n        this.edgedice=['1d4','1d4','2d4','2d6','2d6','3d6','3d8','3d8','4d8','4d10'];\n    }\n    \n    levelup(character,classlevel){\n        super.levelup(character,classlevel);\n        let level=character.level;\n        if(level==1||level==3||level==6||level==9){\n            character.talent+=1;\n        }else if(level==4||level==7){\n            character.ranks+=1;\n        }else if(level==5||level==8){\n            character.contacts+=1;\n        }else if(level==10){\n            character.wealth+=5;\n            //TODO +5 reputation to law and hackers\n        }\n    }\n}\n\nexport var webcrawler=new Webcrawler();\n","export var feats=new Map();\n\nclass Feat{\n    constructor(name,description){\n        this.name=name;\n        this.description=description;\n    }\n    \n    validate(character){\n        return !character.hasfeat(this);\n    }\n    \n    apply(character){\n        character.addfeat(this);\n    }\n}\n\nclass Educated extends Feat{\n    constructor(){\n        super('Educated','+3 to Techonology rolls');\n    }\n}\n\nclass Meticulous extends Feat{\n    constructor(){\n        super('Meticulous','+2 to Forgery and Search rolls');\n    }\n}\n\nclass Stealthy extends Feat{\n    constructor(){\n        super('Stealthy','+3 to Stealth rolls');\n    }\n}\n\nclass Studious extends Feat{\n    constructor(){\n        super('Studious','+2 to Decrypt and Research rolls');\n    }\n}\n\nclass Trustworthy extends Feat{\n    constructor(){\n        super('Trustworthy','+3 to Information rolls');\n    }\n}\n\nfor(let feat of [\n    new Educated(),\n    new Meticulous(),\n    new Stealthy(),\n    new Stealthy(),\n    new Studious(),\n    new Trustworthy(),\n]) feats.set(feat.name.toLowerCase(),feat);\n","import {skills,checkskills} from './skills';\n\n//TODO feats\nclass Occupation{\n    constructor(wealth,skillsp){\n        this.wealth=wealth;\n        this.skills=skillsp;\n        checkskills(skillsp);\n    }\n}\n\nexport var occupations={};\n\noccupations.adventurer=new Occupation(+1,['Bluff','Technology','Stealth','Perceive','Medicine']);\n","//TODO save RNG if possble\nclass Rpg{\n    constructor(){\n    }\n    \n    roll(min,max){\n        return Math.floor((Math.random()*max)+min); \n    }\n    \n    d(dice,sides){\n        let sum=0;\n        for(let i=0;i<dice;i++){\n            sum+=this.roll(1,sides);\n        }\n        return sum;\n    }\n    \n    d20(){\n        return d(1,20);\n    }\n}\n\nexport var rpg=new Rpg();\n","import {hero} from './characters';\n\nexport class Save{\n    constructor(){\n        this.dodebug=false;\n    }\n    \n    checkload(){\n        return localStorage.getItem('infojack-save');\n    }\n    \n    load(){\n        let data=this.checkload();\n        if(!data){\n            return false;\n        }\n        data=JSON.parse(data);\n        this.populate(data);\n        this.initialize();\n        return true;\n    }\n\n    populate(data){\n        Object.assign(hero,data.hero);\n        this.debug();\n    }\n\n    initialize(){\n    }\n\n    //TODO use on game lost\n    //TODO use on game won\n    clear(){\n        localStorage.setItem('infojack-save','');\n    }\n\n    save(){\n        let data={};\n        data.hero=hero;\n        localStorage.setItem('infojack-save',JSON.stringify(data));\n        this.debug();\n    } \n    \n    debug(){\n        if(!this.dodebug)return;\n        let data=this.checkload();\n        if(data){\n            alert(data);\n        }\n    }\n}\n","class Skill{\n    constructor(name,description){\n        this.name=name;\n        this.description=description;\n    }\n}\n\nexport var skills=new Map();\n\nfor (let skill of [\n    new Skill('Bluff',\n        \"Convince ICE you're not an intruder.\"),\n    new Skill('Decryption',\n        \"Break into protected data.\"),\n    new Skill('Electronics',\n        \"Build and install hardware.\"),\n    new Skill('Forgery',\n        \"Forge authentication credentials.\"),\n    new Skill('Information',\n        \"Find more shopping items and missions.\"),\n    new Skill('Hacking',\n        \"Act on the Web.\"),\n    new Skill('Perceive',\n        \"Detect ICE and files on the Web.\"),\n    new Skill('Medicine',\n        \"Treat your injuries.\"),\n    new Skill('Stealth',\n        \"Avoid being detected on the Web.\"),\n    new Skill('Profession',\n        \"Earn more money.\"),\n    new Skill('Research',\n        \"Do perimeter checks on Frames.\"),\n    new Skill('Search',\n        \"Locate files in datastores.\"),\n    new Skill('Technology',\n        \"Create your own programs.\"),\n]){\n    skills.set(skill.name,skill);\n}\n\nexport function checkskills(ss){\n    for(let s of ss) if(!skills.get(s)) alert('Unknown skill: '+s);\n    return ss;\n}\n","export class Sound{\n    constructor(){\n        this.PREFIX='./sounds/';\n        this.ERROR='Computer Error Alert-SoundBible.com-783113881.mp3';\n    }\n     \n    play(file){\n        new Audio(this.PREFIX+file).play();\n    }\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n"],"sourceRoot":".."}